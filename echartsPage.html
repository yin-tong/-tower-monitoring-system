<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>实时监控</title>
    <meta name="description" content="AdminLTE2定制版">
    <meta name="keywords" content="AdminLTE2定制版">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
   
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="plugins/adminLTE/css/skins/_all-skins.min.css">
	<link rel="stylesheet" href="css/echartsPage.css">
	<link rel="stylesheet" href="css/index.css">
	<style>
		table,tbody,tfoot,thead,tr,th,td {
			margin:0;
			padding:0;
			outline:0;
			font-size:100%;
			vertical-align:baseline;
			background:transparent;
			border-collapse:collapse;
			border-spacing:0;
			border:0px;
		}
		.tablebox {
			width:300px;
			height:400px;
			overflow:hidden;
			margin:50px auto;
			border-radius: 20px;
		}
		.tablebox table {
			width:100%;
		}
		.tablebox table th,.tablebox table td {
			font-size:12px;
			text-align:center;
			line-height:36px;
		}
		.tablebox table th {
			color:#2584e3;
			background-color: #293441;
		}
		.tablebox table td img {
			display:inline-block;
			vertical-align:middle;
		}
		.tablebox table td{
			background-color: #293441;
			color: white;
			
		}
		.tablebox table tbody tr:nth-child(even) {
			background-color:#f6f6f6;
		}
		.tablebox.table_md table td,.tablebox.table_md table th {
			line-height:40px;
		}
		
	</style>
</head>

<body class="hold-transition skin-purple sidebar-mini">
	<script src="js/vue.global.js"></script>
	<script src="js/index.full.js"></script>
    <div class="wrapper">
        <!-- 内容区域 -->         
                     <!-- Content Header (Page header) -->
                     <section class="content-header">
                         <p style="color: white;font-size: 23px;font-weight:bold">
                             实时监控
                         </p>
                         <ol class="breadcrumb" style="background-color:rgb(34, 45, 50); ">
                             <span id="date" class="datetime" style="color: white;font-size: 15px;">2049-01-01 00:00:00</span>
                         </ol>
                     </section>
         
                     <!-- Main content -->
                     <section class="content"> 
					 
					    <!-- sensor number -->
					    <p style="color: white;font-size: 18px;">传感器状态与数量</p>
					    <div class="row">
					        <div class="col-md-3 col-sm-6 col-xs-12">
					            <div class="info-box" >
					                <span class="info-box-icon bg-green"><i class="fa fa-database"></i></span>
					        
					                <div class="info-box-content">
					                    <span class="info-box-text">传感器安全数量</span>
					                    <span class="info-box-number" id="sensorSecurityNumber">0</span>
					                </div>
					                <!-- /.info-box-content -->
					            </div>
					            <!-- /.info-box -->
					        </div>
					        <!-- /.col -->
					        <div class="col-md-3 col-sm-6 col-xs-12">
					            <div class="info-box">
					                <span class="info-box-icon bg-red"><i class="fa fa-warning " style="margin-left: 2px;"></i></span>
					                <div class="info-box-content">
					                    <span class="info-box-text">传感器危险数量</span>
					                    <span class="info-box-number" id="sensorDangerNumber">0</span>
					                </div>
					                <!-- /.info-box-content -->
					            </div>
					            <!-- /.info-box -->
					        </div>
					        <!-- /.col -->
					        <div class="col-md-3 col-sm-6 col-xs-12">
					            <div class="info-box">
					                <span class="info-box-icon bg-yellow"><i class="fa  fa-exclamation" style="margin-left: 10px;"></i></span>
					             
					                <div class="info-box-content">
					                    <span class="info-box-text">传感器异常数量</span>
					                    <span class="info-box-number" id="sensorAbnormalNumber">0</span>
					                </div>
					                <!-- /.info-box-content -->
					            </div>
					            <!-- /.info-box -->
					        </div>
					        <!-- /.col -->
					        <div class="col-md-3 col-sm-6 col-xs-12">
					            <div class="info-box">
					                <span class="info-box-icon bg-gray"><i class="fa  fa-wrench "></i></span>
					             
					                <div class="info-box-content">
					                    <span class="info-box-text">传感器关闭数量</span>
					                    <span class="info-box-number" id="sensorCloseNumber">0</span>
					                </div>
					                <!-- /.info-box-content -->
					            </div>
					            <!-- /.info-box -->
					        </div>
					        <!-- /.col -->
					    </div>
					    <!-- sensor number -->
					 
						 <!-- iron number -->
						 <p style="color: white;font-size: 18px;">铁塔状态与数量</p>
                         <div class="row">
                             <div class="col-md-3 col-sm-6 col-xs-12">
                                 <div class="info-box" >
                                     <span class="info-box-icon bg-green"><i class="fa fa-database"></i></span>
    
                                     <div class="info-box-content">
                                         <span class="info-box-text">铁塔安全数量</span>
                                         <span class="info-box-number" id="ironSecurityNumber">0</span>
                                     </div>
                                     <!-- /.info-box-content -->
                                 </div>
                                 <!-- /.info-box -->
                             </div>
                             <!-- /.col -->
                             <div class="col-md-3 col-sm-6 col-xs-12">
                                 <div class="info-box">
                                     <span class="info-box-icon bg-red"><i class="fa fa-warning " style="margin-left: 2px;"></i></span>
                                     <div class="info-box-content">
                                         <span class="info-box-text">铁塔危险数量</span>
                                         <span class="info-box-number" id="ironDangerNumber">0</span>
                                     </div>
                                     <!-- /.info-box-content -->
                                 </div>
                                 <!-- /.info-box -->
                             </div>
                             <!-- /.col -->
                            
                             <!-- /.col -->
                         </div>
                         <!-- iron number -->
						 
						 
        
						 <p style="color: white;font-size: 18px;margin-bottom: 10px;margin-top: 2px;">传感器地理位置</p>
						 
						 
						 <div class="row">	
						      <!--map-->
						     <div id="mapDiv" style="height:500px;width: 70%;" class="col-md-8 col-sm-8 col-xs-11 col-lg-7" ondblclick="reverMap()"></div>		
							 <!--map!-->	
							 <!--table-->
							  <div class="tablebox">
								 <!-- <p style="font-size: 15px;font-weight:bolder;color: white;margin-top: 4%;margin-left: 4%;" >| 部分铁塔情况</p> -->
								  <table id="tableId" border="0" cellspacing="0" cellpadding="0">
								      <thead>
								          <tr>
								              <th>铁塔编号</th>
								              <th>铁塔名称</th>
								              <th>状态</th>
								          </tr>
								      </thead>
								      <tbody>
								          <tr>
								              <td id="id1"></td>
								              <td id="name1"></td>
								              <td id="situation1"></td>
								          </tr>
								          <tr>
								              <td id="id2"></td>
								              <td id="name2"></td>
								              <td id="situation2"></td>
								          </tr>
								          <tr>
								              <td id="id3"></td>
								              <td id="name3"></td>
								              <td id="situation3"></td>
								          </tr>
								          <tr>
											   <td id="id4"></td>
											   <td id="name4"></td>
											   <td id="situation4"></td>
								          </tr>
								          <tr>
								              <td id="id5"></td>
								              <td id="name5"></td>
								              <td id="situation5"></td>
								          </tr>
								          <tr>
								             <td id="id6"></td>
								             <td id="name6"></td>
								             <td id="situation6"></td>
								          </tr>
								          <tr>
								            <td id="id7"></td>
								            <td id="name7"></td>
								            <td id="situation7"></td>
								          </tr>
								          <tr>
								             <td id="id8"></td>
								             <td id="name8"></td>
								             <td id="situation8"></td>
								          </tr>
								          <tr>
								              <td id="id9"></td>
								              <td id="name9"></td>
								              <td id="situation9"></td>
								          </tr>
								          <tr>
								              <td id="id10"></td>
								              <td id="name10"></td>
								              <td id="situation10"></td>
								          </tr>
								          <tr>
								              <td id="id11"></td>
								              <td id="name11"></td>
								              <td id="situation11"></td>
								          </tr>
								          <tr>
								              <td id="id12"></td>
								              <td id="name12"></td>
								              <td id="situation12"></td>
								          </tr>
								          <tr>
								             <td id="id13"></td>
								             <td id="name13"></td>
								             <td id="situation13"></td>
								          </tr>
								          <tr>
								             <td id="id14"></td>
								             <td id="name14"></td>
								             <td id="situation14"></td>
								          </tr>
								          <tr>
								              <td id="id15"></td>
								              <td id="name15"></td>
								              <td id="situation15"></td>
								          </tr>
								  </tbody></table>
							 </div>	
						     <!--table-->
						 </div>
                         
                     </section>
                     <!-- /.content -->
                
        <!-- 内容区域 /-->
    </div>

    <script src="https://webapi.amap.com/maps?v=1.4.15&key=0ef1a7cc3a0701dca026c483c1fcc132&plugin=AMap.Geocoder"></script>
	<script src="js/jquery.min.js"></script>
	<script src="js/gaoDe_utils.js"></script>
	<script src="js/map_utils.js"></script>
	<script src="js/echarts.min.js"></script>
	<script src="js/chalk.js"></script>
	<script src="js/echartsGlobal.js"></script>
    <script src="plugins/jQuery/jquery-2.2.3.min.js"></script>
	<script>
		
		// //随机从数组中抽取num个数组
		// function getRandomData(arr,num){
		// 	var newArr=[];
		// 	for(var i=0;i<num;i++){
		// 		var index=Math.floor((Math.random()*arr.length));
		// 		newArr.push(arr[index]);
		// 		arr.splice(index,1);
		// 	}
		// 	return newArr;
		// }
		
		
		$.get('json/data/iron.json',function(ret){
			var arr = ret;
			for(var i = 0;i<arr.length;i++){
				var i2 = i+1;
				var name = "name"+i2;
				var id = "id" +i2;
				var situation = "situation"+i2;
				
				$("#"+id).text(arr[i].id);
				$("#"+name).text(arr[i].ironName);
				$("#"+situation).text(arr[i].situation);
				if($("#"+situation).text()=="安全"){
				    $("#"+situation).css("color",'#00FF00')
				}else if($("#"+situation).text()=="危险"){
					$("#"+id).css("color",'#FF0000')
					$("#"+name).css("color",'#FF0000')
				    $("#"+situation).css("color",'#FF0000')
				}
				
			}
			// 参数1 tableID,参数2 div高度，参数3 速度，参数4 tbody中tr几条以上滚动
			tableScroll('tableId', 400, 30, 10)
		});
		
		var MyMarhq;
		function tableScroll(tableid, hei, speed, len) {
			
		    clearTimeout(MyMarhq);
		    $('#' + tableid).parent().find('.tableid_').remove()
		    $('#' + tableid).parent().prepend(
		        '<table class="tableid_"><thead>' + $('#' + tableid + ' thead').html() + '</thead></table>'
		    ).css({
		        'position': 'relative',
		        'overflow': 'hidden',
		        'height': hei + 'px'
		    })
		    $(".tableid_").find('th').each(function(i) {
		        $(this).css('width', $('#' + tableid).find('th:eq(' + i + ')').width());
		    });
		    $(".tableid_").css({
		        'position': 'absolute',
		        'top': 0,
		        'left': 0,
		        'z-index': 9
		    })
		    $('#' + tableid).css({
		        'position': 'absolute',
		        'top': 0,
		        'left': 0,
		        'z-index': 1
		    })
		
		    if ($('#' + tableid).find('tbody tr').length > len) {
		        $('#' + tableid).find('tbody').html($('#' + tableid).find('tbody').html() + $('#' + tableid).find('tbody').html());
		        $(".tableid_").css('top', 0);
		        $('#' + tableid).css('top', 0);
		        var tblTop = 0;
		        var outerHeight = $('#' + tableid).find('tbody').find("tr").outerHeight();
		
		        function Marqueehq() {
		            if (tblTop <= -outerHeight * $('#' + tableid).find('tbody').find("tr").length) {
		                tblTop = 0;
		            } else {
		                tblTop -= 1;
		            }
		            $('#' + tableid).css('margin-top', tblTop + 'px');
		            clearTimeout(MyMarhq);
		            MyMarhq = setTimeout(function() {
		                Marqueehq()
		            }, speed);
		        }
		
		        MyMarhq = setTimeout(Marqueehq, speed);
		        $('#' + tableid).find('tbody').hover(function() {
		            clearTimeout(MyMarhq);
		        }, function() {
		            clearTimeout(MyMarhq);
		            if ($('#' + tableid).find('tbody tr').length > len) {
		                MyMarhq = setTimeout(Marqueehq, speed);
		            }
		        })
		    }
		}
	</script>
</body>

</html>
<!---->
